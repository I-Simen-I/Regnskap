<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <script name="jquery/jquery.js" library="primefaces"></script>
    <title>Opprett kategori</title>
</h:head>

<h:form>
    <p:growl id="messages"></p:growl>

    <f:metadata>
        <f:viewParam name="user" value="#{kategoriAction.user}"/>
    </f:metadata>

    <h1>Kategorioversikt</h1>
    <h:panelGroup id="kategoriList">
        <p:outputLabel value="Kategorier"/>
        <p:dataTable value="#{kategoriAction.kategoriList}" var="kategori">
            <p:column headerText="Navn">
                <h:outputText value="#{kategori.navn}"/>
            </p:column>

            <p:column headerText="Opprettet av">
                <h:outputText value="#{kategori.opprettetAv}"/>
            </p:column>

            <p:column headerText="Dato opprettet">
                <h:outputText value="#{kategori.opprettet}">
                    <f:convertDateTime type="date" pattern="dd-MM-YYYY"/>
                </h:outputText>
            </p:column>
        </p:dataTable>
    </h:panelGroup>

    <p:outputLabel value="Opprett kategori"/>
    <p:panelGrid columns="2">
        <p:outputLabel for="kategoriNavn" value="Kategori navn:"/>
        <p:inputText id="kategoriNavn" value="#{kategoriAction.form.kategoriNavn}" required="true">
            <f:validateLength minimum="3" maximum="55"/>
        </p:inputText>
    </p:panelGrid>

    <p:commandButton value="Register kategori" action="#{kategoriAction.save()}" update="messages"/>
</h:form>
</html>