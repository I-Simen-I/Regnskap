##### DROP #####
DROP TABLE IF EXISTS EXPENSE;
DROP TABLE IF EXISTS CATEGORY;
DROP TABLE IF EXISTS CATEGORY_TYPE;

##### CREATE #####
#KODEVERK
CREATE TABLE CATEGORY_TYPE (
  CATEGORY_TYPE VARCHAR(55)  NOT NULL,
  NAME          VARCHAR(255) NOT NULL,
  PRIMARY KEY (CATEGORY_TYPE)
)
  ENGINE = INNODB
  DEFAULT CHARSET = UTF8;

CREATE TABLE CATEGORY (
  CATEGORY_ID   INT(11)      NOT NULL AUTO_INCREMENT,
  NAME          VARCHAR(55)  NOT NULL UNIQUE,
  CATEGORY_TYPE VARCHAR(55)  NOT NULL,
  CREATED       TIMESTAMP    NOT NULL DEFAULT CURRENT_TIMESTAMP,
  CREATED_BY    VARCHAR(255) NOT NULL,
  PRIMARY KEY (CATEGORY_ID),
  FOREIGN KEY (CATEGORY_TYPE) REFERENCES CATEGORY_TYPE (CATEGORY_TYPE)
) ENGINE = INNODB DEFAULT CHARSET = UTF8;

#DOMAIN
CREATE TABLE EXPENSE (
  EXPENSE_ID  INT(11)        NOT NULL AUTO_INCREMENT,
  MONTH       VARCHAR(55)    NOT NULL,
  CATEGORY_ID INT(11)        NOT NULL,
  SUM         DECIMAL(10, 0) NOT NULL,
  DESCRIPTION VARCHAR(1000),
  CREATED     TIMESTAMP      NOT NULL DEFAULT CURRENT_TIMESTAMP,
  CREATED_BY  VARCHAR(255)   NOT NULL,
  PRIMARY KEY (EXPENSE_ID),
  FOREIGN KEY (CATEGORY_ID) REFERENCES CATEGORY (CATEGORY_ID)
) ENGINE = INNODB DEFAULT CHARSET = UTF8;

#POPULERING AV BASE
INSERT INTO CATEGORY_TYPE (CATEGORY_TYPE, NAME) VALUES ("EXPENSE", "Utgift");
INSERT INTO CATEGORY_TYPE (CATEGORY_TYPE, NAME) VALUES ("SAVINGS", "Sparing");

INSERT INTO CATEGORY (NAME, CREATED_BY, CATEGORY_TYPE) VALUES ("Mat", "Simen", "EXPENSE");
INSERT INTO CATEGORY (NAME, CREATED_BY, CATEGORY_TYPE) VALUES ("Felleskostnader", "Simen", "EXPENSE");
INSERT INTO CATEGORY (NAME, CREATED_BY, CATEGORY_TYPE) VALUES ("Huslån", "Simen", "EXPENSE");
INSERT INTO CATEGORY (NAME, CREATED_BY, CATEGORY_TYPE) VALUES ("Lånekassen", "Simen", "EXPENSE");
INSERT INTO CATEGORY (NAME, CREATED_BY, CATEGORY_TYPE) VALUES ("Ferie", "Simen", "EXPENSE");
INSERT INTO CATEGORY (NAME, CREATED_BY, CATEGORY_TYPE) VALUES ("BSU", "Simen", "SAVINGS");
